<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

   <h:head>
      <script type="text/javascript"
              src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBS0zuLmLKaB_9hJ_2GCuBwrY10js68UTM">
      </script>
      <link rel="stylesheet" type="text/css" href="resources/css/MapPage.css"/>
      <link rel="stylesheet" type="text/css" href="resources/css/ControlsStyling.css"/>
   </h:head>

   <h:body>
      <div id="bar">
         <h:outputLabel id="AppTitle">Toilet Finder</h:outputLabel>
         <h:graphicImage value="images/search_icon.png" styleClass="barfunct"></h:graphicImage>
         <h:graphicImage value="images/filter_icon.png" styleClass="barfunct"></h:graphicImage>
         <h:graphicImage value="images/profile_icon.png" styleClass="barfunct"></h:graphicImage>
      </div>
      <p:gmap id="displayedMap" widgetVar="mapDisplay" center="1.378622, 103.849345" zoom="15" type="ROADMAP"
              style="width:100%;height:90%" disableDefaultUI="true"
              model="#{mapController.displayMap}"
              onPointClick="addLocMarker(event)">
            <div>Hello</div>
      </p:gmap>

      <!--Custom Controls For Google Map-->
      <div id="zoomoutControl" class="zoomoutControl" onclick="zoomOut()">
         <div id="zoomoutUI" class="zoomoutUI">
            <div id="zoomoutText" class="zoomoutText"> - </div>
         </div>
      </div>
      <div id="zoominControl" class="zoominControl" onclick="zoomIn()">
            <div id="zoominText" class="zoominText"> + </div>
      </div>
      <div id="centerLoc" class="centerLoc" onclick="goToUserLoc()">
         <div id="centerImg" class="centerImg">
            <!--<h:graphicImage></h:graphicImage>-->
            Center Map
         </div>
      </div>
      <div id="addToilet" class="addToilet">
            <h:form id="formSubmitToilet">
               <h:inputHidden id="locLng" value="#{mapController.locLng}" />
               <h:inputHidden id="locLat" value="#{mapController.locLat}" />
               <!--Was In Command Button Temp Removed-->
               <!--onclick="addToiletLoc()"-->
               <p:commandButton value="Add Toilet"
                                id="toiletSubmit">
                  <p:confirm header="Confirmation" message="Do you want to use current location or select a location?"/>
                  <!--<f:ajax execute="@form" render="@none" />-->
               </p:commandButton>
               <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                     <p:commandButton value="Use current location" type="button" onclick="setMarkerAddType(1)" styleClass="ui-confirmdialog-no"/>
                     <p:commandButton value="Select Location on map" type="button" onclick="setMarkerAddType(2)" styleClass="ui-confirmdialog-no"/>
               </p:confirmDialog>
               <p:remoteCommand  name="tsubmit" actionListener="#{mapController.addToiletLoc}"/>
            </h:form>
      </div>
      <script type="text/javascript" src="resources/Javascript/Ivan's.js"></script>
      <!--<div>-->
         <!--<button onclick="removeLocMarker()">Confirm Location</button>-->
      <!--</div>-->
   </h:body>
</html>