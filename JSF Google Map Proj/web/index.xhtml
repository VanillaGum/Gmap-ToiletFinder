<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

   <h:head>
      <script type="text/javascript"
              src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBIhNGkh_sKo3rekCxuwz4ZQhlBZmM5UM0&amp;libraries=places">
      </script>
      <link rel="stylesheet" type="text/css" href="resources/css/MapPage.css"/>
      <link rel="stylesheet" type="text/css" href="resources/css/ControlsStyling.css"/>
      <link rel="stylesheet" type="text/css" href="resources/css/InfoWindow.css"/>
   </h:head>

   <h:body>
      <div id="bar">
         <h:outputLabel id="AppTitle">Toilet Finder</h:outputLabel>
         <h:graphicImage value="images/search_icon.png" styleClass="barfunct" onclick="openSearch()"></h:graphicImage>
         <h:graphicImage value="images/filter_icon.png" styleClass="barfunct" onclick="openFilter()"></h:graphicImage>
         <h:graphicImage value="images/profile_icon.png" styleClass="barfunct"></h:graphicImage>
      </div>
      <div id="searchBar">
         <input id="searchTextField" type="text" size="50"></input>
         <input type="radio" name="type" id="changetype-all" checked="checked"></input>
         <label for="changetype-all">All</label>

         <input type="radio" name="type" id="changetype-establishment"></input>
         <label for="changetype-establishment">Establishments</label>

         <input type="radio" name="type" id="changetype-geocode"></input>
         <label for="changetype-geocode">Geocodes</label>

         <button id="cancelButton" onclick="closeSearch()" style="height: 100%; width: 67.391px; margin: 0; float:right;">Cancel</button>
      </div>
      <div id="filterBar">
         <button id="cancelButton" onclick="closeFilter()" style="height: 100%; width: 67.391px; margin: 0; float:right;">Cancel</button>
      </div>
         <!--For Having Map Model IN MapController-->
         <p:gmap id="displayedMap" widgetVar="mapDisplay" center="1.378622, 103.849345" zoom="15" type="ROADMAP"
                 style="width:100%;height:90%" disableDefaultUI="true"
                 onPointClick="addLocMarker(event)"
                 fitBounds="false">
            <!--<p:ajax event="stateChange" listener="#{mapController.onStateChange}" update="displayedMap"/>-->
         </p:gmap>
      <!--Custom Controls For Google Map-->
      <div id="zoomoutControl" class="zoomoutControl" onclick="zoomOut()">
         <div id="zoomoutUI" class="zoomoutUI">
            <div id="zoomoutText" class="zoomoutText"> - </div>
         </div>
      </div>
      <div id="zoominControl" class="zoominControl" onclick="zoomIn()">
            <div id="zoominText" class="zoominText"> + </div>
      </div>
      <div id="centerLoc" class="centerLoc" onclick="goToUserLoc()">
         <div id="centerImg" class="centerImg">
            <!--<h:graphicImage></h:graphicImage>-->
            Center Map
         </div>
      </div>

      <!--Add Toilet Stuff-->
      <div id="addToilet" class="addToilet">
            <h:form id="formSubmitToilet">
               <h:inputHidden id="locLng" value="#{mapController.locLng}" />
               <h:inputHidden id="locLat" value="#{mapController.locLat}" />
               <h:inputHidden id="toiletGender" value="#{mapController.toiletGender}" />
               <h:inputHidden id="genderM" value="#{mapController.genderM}"/>
               <h:inputHidden id="genderF" value="#{mapController.genderF}"/>
               <h:inputHidden id="rating" value="#{mapController.rating}"/>
               <h:inputHidden id="upvote" value="#{mapController.upvote}"/>
               <!--Was In Command Button Temp Removed-->
               <!--onclick="addToiletLoc()"-->
               <p:commandButton value="Add Toilet"
                                id="toiletSubmit">
                  <p:confirm header="Confirmation" message="Do you want to use current location or select a location?"/>
                  <!--<f:ajax execute="@form" render="@none" />-->
               </p:commandButton>
               <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                     <p:commandButton value="Use current location" type="button" onclick="setMarkerAddType(1)" styleClass="ui-confirmdialog-no"/>
                     <p:commandButton value="Select Location on map" type="button" onclick="setMarkerAddType(2)" styleClass="ui-confirmdialog-no"/>
               </p:confirmDialog>
               <p:remoteCommand  name="tsubmit" actionListener="#{mapController.addToiletLoc}">
               </p:remoteCommand>
            </h:form>
      </div>

      <!--Suggesting Toilets-->
      <div style="display:none;">
         <div id="confirmBox0">
            <!--Add Uneditable Stars Rating Here-->
            <!--Temp Star Rating-->
            <select id="rating_select">
               <option value="-1">Select A Rating</option>
               <option value="1">1</option>
               <option value="2">2</option>
               <option value="3">3</option>
               <option value="4">4</option>
               <option value="5">5</option>
            </select>
            <img class="upvote upvote-unselected" src="images/upvote.png" alt="upvoteIcon" width="10.24" height="10.29" onclick="upvoteToiletSuggestion()"/>
            <!--Gender Selection-->
            <img id="maleIcon0" class="mToilet maleToiletSelectIcon-unselected" src="images/male_icon.png" alt="maleToiletIcon" width="23.2" height="62.6px" onclick="changeIconSelection(1)"/>
            <img id="femaleIcon0" class="fToilet femaleToiletSelectIcon-unselected" src="images/female_icon.png" alt="femaleToiletIcon" width="31px" height="62.6" onclick="changeIconSelection(0)"/>
            <form action="">
               <input id="toiletGenderSelect0" type="hidden" value="-1"/>
               <input id="rating0" type="hidden" value="-1"/>
            </form>
            <div class="addToiletSubmit">
               <button onclick="toiletSuggestionConfirmed()">Confirm</button>
               <button onclick="cancelLocMarker()">Cancel</button>
            </div>
         </div>


         <div id="confirmBox1">
            <form action="">
               <select id="toiletGenderSelect1">
                  <option value="0">Male</option>
                  <option value="1">Female</option>
               </select>
            </form>
            <button onclick="removeLocMarker()">Confirm Location</button>
         </div>
      </div>


      <!--Displaying Toilet Suggestions-->
      <div style="display:none;">

      </div>

      <script type="text/javascript" src="resources/Javascript/Controller's.js"></script>
      <script type="text/javascript" src="resources/Javascript/Ivan's.js"></script>
      <script type="text/javascript" src="resources/Javascript/YeeAnn.js"></script>
      <!--<div>-->
         <!--<button onclick="removeLocMarker()">Confirm Location</button>-->
      <!--</div>-->
   </h:body>
</html>